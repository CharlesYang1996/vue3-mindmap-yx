import{o as t,P as e,t as n,h as a,l as o,a as l,s as r,d as s,r as i,z as d,b as c,c as u,e as h,w as p,p as m,i as g,f as v,g as f,j as y,k as x,m as b,n as w,F as _,q as $,u as B,v as L,x as z,y as j,A as E,B as k}from"./vendor.94a5784b.js";!function(t=".",e="__import__"){try{self[e]=new Function("u","return import(u)")}catch(n){const a=new URL(t,location),o=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((n,l)=>{const r=new URL(t,a);if(self[e].moduleMap[r])return n(self[e].moduleMap[r]);const s=new Blob([`import * as m from '${r}';`,`${e}.moduleMap['${r}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){l(new Error(`Failed to import: ${t}`)),o(i)},onload(){n(self[e].moduleMap[r]),o(i)}});document.head.appendChild(i)})),self[e].moduleMap={}}}("/vue3-mindmap/assets/");var M=[{name:"如何学习D3",children:[{name:"预备知识",children:[{name:"HTML & CSS"},{name:"JavaScript"},{name:"DOM"},{name:"SVG"},{name:"test\ntest"}]},{name:"安装",_children:[{name:"折叠节点"}]},{name:"入门",children:[{name:"选择集"},{name:"test"},{name:"绑定数据"},{name:"添加删除元素"},{name:"简单图形",children:[{name:"柱形图"},{name:"折线图"},{name:"散点图"}]},{name:"比例尺"},{name:"生成器"},{name:"过渡"}],left:!0},{name:"进阶",left:!0},{name:"一级节点",children:[{name:"子节点1"},{name:"子节点2"},{name:"子节点3"}]}]}];const N=function(){const t=new Map;return{all:t,on(e,n){const a=t.get(e);a?a.push(n):t.set(e,[n])},off(e,n){const a=t.get(e);if(a){const t=a.indexOf(n);-1!==t&&a.splice(t,1)}},emit(e,n){const a=t.get(e);a&&a.forEach((t=>{t(n)}))}}}();var S={container:"_container_zpjgs_1","svg-wrapper":"_svg-wrapper_zpjgs_1",svg:"_svg_zpjgs_13",trigger:"_trigger_zpjgs_38","add-btn":"_add-btn_zpjgs_41",text:"_text_zpjgs_52",selected:"_selected_zpjgs_58",content:"_content_zpjgs_58",root:"_root_zpjgs_61",edited:"_edited_zpjgs_65",outline:"_outline_zpjgs_68","button-list":"_button-list_zpjgs_79","right-bottom":"_right-bottom_zpjgs_82","top-right":"_top-right_zpjgs_86",disabled:"_disabled_zpjgs_95",gps:"_gps_zpjgs_142",fit:"_fit_zpjgs_145",download:"_download_zpjgs_148",undo:"_undo_zpjgs_151",redo:"_redo_zpjgs_154",close:"_close_zpjgs_157"};class D{constructor(t,e,n,a){this.w=t,this.h=e,this.y=n,this.c=a,this.cs=a.length,this.x=0,this.prelim=0,this.mod=0,this.shift=0,this.change=0,this.tl=null,this.tr=null,this.el=null,this.er=null,this.msel=0,this.mser=0}}function C(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function V(t){return t.y+t.h}class A{constructor(t,e,n){this.lowY=t,this.index=e,this.next=n}}function U(t,e,n){for(;null!==n&&t>=n.lowY;)n=n.next;return new A(t,e,n)}function R(t,e,n,a){t.c[e].mod+=a,t.c[e].msel+=a,t.c[e].mser+=a,function(t,e,n,a){if(n!==e-1){const o=e-n;t.c[n+1].shift+=a/o,t.c[e].shift-=a/o,t.c[e].change-=a-a/o}}(t,e,n,a)}function O(t){return 0===t.cs?t.tl:t.c[0]}function G(t){return 0===t.cs?t.tr:t.c[t.cs-1]}function H(t,e,n){let a=t.c[e-1],o=a.mod,l=t.c[e],r=l.mod;for(;null!==a&&null!==l;){V(a)>n.lowY&&(n=n.next);const s=o+a.prelim+a.w-(r+l.prelim);s>0&&(r+=s,R(t,e,n.index,s));const i=V(a),d=V(l);i<=d&&(a=G(a),null!==a&&(o+=a.mod)),i>=d&&(l=O(l),null!==l&&(r+=l.mod))}null===a&&null!==l?function(t,e,n,a){const o=t.c[0].el;o.tl=n;const l=a-n.mod-t.c[0].msel;o.mod+=l,o.prelim-=l,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,l,r):null!==a&&null===l&&function(t,e,n,a){const o=t.c[e].er;o.tr=n;const l=a-n.mod-t.c[e].mser;o.mod+=l,o.prelim-=l,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,a,o)}function P(t){if(0===t.cs)return void C(t);P(t.c[0]);let e=U(V(t.c[0].el),0,null);for(let n=1;n<t.cs;n++){P(t.c[n]);const a=V(t.c[n].er);H(t,n,e),e=U(a,n,e)}!function(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}(t),C(t)}function q(t,e){e+=t.mod,t.x=t.prelim+e,function(t){let e=0,n=0;for(let a=0;a<t.cs;a++)e+=t.c[a].shift,n+=e+t.c[a].change,t.c[a].mod+=n}(t);for(let n=0;n<t.cs;n++)q(t.c[n],e)}function I(t){P(t),q(t,0)}class K{constructor(t,e){this.gap=t,this.bottomPadding=e}addBoundingBox(t,e){return{width:t+this.gap,height:e+this.bottomPadding}}removeBoundingBox(t,e){return{x:t+this.gap/2,y:e}}}class F{constructor(t){this.bb=t}layout(t){const e=this.convert(t);I(e);const{boundingBox:n,result:a}=this.assignLayout(e,t);return{result:a,boundingBox:n}}convert(t,e=0){const{width:n,height:a}=this.bb.addBoundingBox(t.width,t.height),o=[];if(t.children&&t.children.length)for(let l=0;l<t.children.length;l++)o[l]=this.convert(t.children[l],e+a);return new D(n,a,e,o)}assignCoordinates(t,e){const{x:n,y:a}=this.bb.removeBoundingBox(t.x,t.y);e.x=n,e.y=a;for(let o=0;o<t.c.length;o++)this.assignCoordinates(t.c[o],e.children[o])}getSize(t,e){const{x:n,y:a,width:o,height:l}=t;if(e||(e={left:n,right:n+o,top:a,bottom:a+l}),e.left=Math.min(e.left,n),e.right=Math.max(e.right,n+o),e.top=Math.min(e.top,a),e.bottom=Math.max(e.bottom,a+l),t.children)for(const r of t.children)this.getSize(r,e);return e}assignLayout(t,e,n){const{x:a,y:o}=this.bb.removeBoundingBox(t.x,t.y);e.x=a,e.y=o;const{width:l,height:r}=e;n||(n={left:a,right:a+l,top:o,bottom:o+r}),n.left=Math.min(n.left,a),n.right=Math.max(n.right,a+l),n.top=Math.min(n.top,o),n.bottom=Math.max(n.bottom,o+r);for(let s=0;s<t.c.length;s++)this.assignLayout(t.c[s],e.children[s],n);return{result:e,boundingBox:n}}}const J=t(e);let T=0,Y=0;function W(t,e){const n=e(t.name),a={rawData:t,width:n.height,height:n.width,x:0,y:0},{children:o}=t;if(o){const t=a.children=[];o.forEach((n=>{t.push(W(n,e))}))}return a}const Z=(t,e="0",n=null,a)=>{const o=t.y,l=t.x;let r="",s=!1,i=o,d=l;n&&(s=n.left,i=n.x,d=n.y,r=a||J(`${T+=1}`));const c={x:o,y:l,width:t.height,height:t.width,id:e,gKey:Y+=1,depth:Math.floor(e.length/2),name:t.rawData.name,px:0,py:0,rawData:t.rawData,parent:n,color:r,left:s,dx:o-i,dy:l-d};return t.children&&(c.children=[],t.children.forEach(((t,n)=>{var a;null==(a=c.children)||a.push(Z(t,`${e}-${n}`,c,r))}))),c};function Q(t){[t.width,t.height]=[t.height,t.width]}const X=t=>{[t.x,t.y]=[t.y,t.x]},tt=t=>{t.parent?(t.dx=t.x-t.parent.x,t.dy=t.y-t.parent.y):(t.dx=0,t.dy=0)},et=(t,e)=>{t.id=e},nt=t=>{t.parent&&(t.parent.color?t.color=t.parent.color:t.color||(t.color=J(`${T+=1}`)))},at=(t,e,n="0")=>{var a;e.forEach((e=>{e(t,n)})),null==(a=t.children)||a.forEach(((t,a)=>{at(t,e,`${n}-${a}`)}))},ot=(t,e)=>{const n=new K(e,t);return new F(n)};class lt{constructor(t,e,n,a){const o=W(t,a);this.layout=ot(e,n),this.layout.layout(o),this.data=Z(o),this.getSize=a}setBoundingBox(t,e){this.layout=ot(t,e),this.renew()}find(t){const e=t.split("-").map((t=>~~t));let n=this.data;for(let a=1;a<e.length;a++){if(!n||!n.children)return null;n=n.children[e[a]]}return n}rename(t,e){if(t.length>0){const n=this.find(t);if(n&&n.name!==e){n.name=e,n.rawData.name=e;const t=this.getSize(n.name);n.width=t.width,n.height=t.height,this.renew()}return n}return null}reparent(t,e){var n,a;if(t===e)return null;const o=this.find(t),l=this.find(e),r=e.split("-").pop();if(r&&o&&l){const t=l.parent;null==(n=null==t?void 0:t.children)||n.splice(~~r,1),null==(a=null==t?void 0:t.rawData.children)||a.splice(~~r,1),l.parent=o,l.gKey=Y+=1,l.depth=l.parent.depth+1,1===l.depth&&(l.color=J(`${T+=1}`)),o.children?o.children.push(l):o.children=[l],o.rawData.children?o.rawData.children.push(l.rawData):o.rawData.children=[l.rawData],at(this.data,[Q]),this.layout.layout(this.data),at(this.data,[Q,X,tt,et,nt])}return l}move(t,e,n=0){const a=t.split("-"),o=e.split("-");let l=a.pop(),r=o.pop();if(t===e||a.length!==o.length||!l||!r)return null;const s=this.find(t);if(s&&s.parent){l=parseInt(l,10),r=parseInt(r,10),l<r&&(r-=1);const{children:t}=s.parent,{children:e}=s.parent.rawData;if(t&&e)return t.splice(l,1),t.splice(r+n,0,s),e.splice(l,1),e.splice(r+n,0,s.rawData),at(this.data,[Q]),this.layout.layout(this.data),at(this.data,[Q,X,tt,et]),s}return null}add(t,e){const n=this.find(t);if(n){n.children||(n.children=[]),n.rawData.children||(n.rawData.children=[]);const t=this.getSize(e),a={name:e},o=n.color?n.color:J(`${T+=1}`),l={id:`${n.id}-${n.children.length}`,name:e,rawData:a,parent:n,left:n.left,color:o,gKey:Y+=1,width:t.width,height:t.height,depth:n.depth+1,x:0,y:0,dx:0,dy:0,px:0,py:0};return n.children.push(l),n.rawData.children.push(a),this.renew(),l}return null}renew(){at(this.data,[Q]),this.layout.layout(this.data),at(this.data,[Q,X,tt])}}const rt=t=>{const e=t.split("\n");return e.length>2&&""===e[e.length-1]&&e.pop(),e},st=(t,e)=>n().duration(t).ease(e);function it(){var t,e;return null==(e=null==(t=this.parentNode)?void 0:t.parentNode)?void 0:e.parentNode}const dt=o().source((t=>t.source)).target((t=>t.target)),ct=l().curve(r);let ut=dt;const ht=({source:t,target:e})=>ct([t,e]),pt=12,mt=2,gt=pt+2*mt;let vt=4,ft=18,yt=Math.min(ft/2-1,10),xt=!1;N.on("branch",(t=>vt=t)),N.on("sharp-corner",(t=>{xt=t,ut=t?ht:dt})),N.on("gap",(t=>{const e=t[0];ft=t[1],yt=Math.min(ft/2-1,10),yt=Math.min(e/2-1,yt)}));const bt=t=>{const e=["node"];return t&&(e.push(`depth-${t.depth}`),0===t.depth&&e.push(S.root)),e},wt=t=>`translate(${t.dx+t.px},${t.dy+t.py})`,_t=t=>t.id,$t=t=>{const e=rt(t.name),n=t.height/e.length;return e.map((t=>({name:t,height:n})))},Bt=t=>{let e=0,n=0;const a=Math.max(yt-3,0),o=vt/2;let l=o;t.parent&&(e=t.parent.width,n=t.parent.height,0===t.parent.depth&&(xt||(e/=2),n/=2,l=0));const r=[-t.dx+e-t.px,-t.dy+n+l-t.py],s=[0,t.height+o];return`${ut({source:r,target:s})}L${t.width+a},${s[1]}`},Lt=(t,e)=>{const n=t.attr("class",(t=>bt(t).join(" "))).attr("data-id",_t);(e?n.transition(e):n).attr("transform",wt)},zt=t=>{t.attr("alignment-baseline","text-before-edge").text((t=>t.name||" ")).attr("x",0).attr("dy",((t,e)=>e?t.height:0))},jt=(t,e,n=4)=>{t.attr("x",-e).attr("y",-e).attr("rx",n).attr("ry",n).attr("width",(t=>t.width+2*e)).attr("height",(t=>t.height+2*e))},Et=(t,e)=>{t.attr("class",S["add-btn"]).attr("transform",(t=>((t,e)=>{const n=0===t.depth?t.height/2:t.height+vt/2;return`translate(${t.width+e+gt/2+8},${n})`})(t,e)))},kt=(t,e)=>{t.attr("class",S.trigger).attr("x",-e).attr("y",-e).attr("width",(t=>t.width+2*e+8+gt)).attr("height",(t=>t.height+2*e))},Mt=(t,e)=>{const n=t.attr("stroke",(t=>t.color)).attr("stroke-width",vt);(e?n.transition(e):n).attr("d",(t=>Bt(t)))},Nt=t=>{const e=t.append("tspan");return zt(e),e},St=t=>(zt(t),t),Dt=t=>{const e=t.append("g");return(t=>{const e=-mt-pt/2,n=pt+2*mt;t.attr("x",e).attr("y",e).attr("rx",4).attr("ry",4).attr("width",n).attr("height",n)})(e.append("rect")),e.append("path").attr("d",((t,e)=>{const n=-e/2,a=-t/2,o=t/2,l=e/2;return`M${l},${o}H${o}V${l}H${a}V${o}H${n}V${a}H${a}V${n}H${o}V${a}H${l}V${o}Z`})(2,pt)),e};function Ct(){const t=this.querySelector(`g.${S["add-btn"]}`);t&&(t.style.opacity="1")}function Vt(){const t=this.querySelector(`g.${S["add-btn"]}`);t&&(t.style.opacity="0")}var At=s({name:"Mindmap",props:{modelValue:{type:Array,required:!0},width:Number,height:Number,xGap:{type:Number,default:50},yGap:{type:Number,default:18},branch:{type:Number,default:4},scaleExtent:{default:()=>[.1,8]},centerBtn:Boolean,fitBtn:Boolean,downloadBtn:Boolean,undoBtn:Boolean,addNodeBtn:Boolean,edit:Boolean,drag:Boolean,keyboard:Boolean,contextMenu:Boolean,zoom:Boolean,sharpCorner:Boolean},setup(t){const e=i(),n=i(),o=i(),l=i(),r=i(),s=i(),f=i(),y=i(),x=i(),b=d().on("zoom",(function(t){if(!f.value)return;f.value.attr("transform",t.transform.toString())})).scaleExtent(t.scaleExtent),w=c().container(it).on("drag",(function(t,e){var a;const o=null==(a=this.parentNode)?void 0:a.parentNode;if(L.value=!1,!f.value)return;D(o,e,[t.x-e.x,t.y-e.y]);const l=m(t,n.value);l[1]+=$.data.y;const r=f.value.selectAll("g.node").filter((t=>{if(t!==e&&t!==e.parent&&!t.id.startsWith(e.id)){const e={x0:t.x-yt,x1:t.x+t.width+yt,y0:t.y-yt,y1:t.y+t.height+yt};return l[0]>e.x0&&l[1]>e.y0&&l[0]<e.x1&&l[1]<e.y1}return!1})),s=Array.from(document.getElementsByClassName(S.outline)),i=r.node();s.forEach((t=>{t!==i&&t.classList.remove(S.outline)})),null==i||i.classList.add(S.outline)})).on("end",(function(t,e){var n;const a=null==(n=this.parentNode)?void 0:n.parentNode;L.value=!0;const o=document.getElementsByClassName(S.outline)[0];if(o){o.classList.remove(S.outline);const t=o.getAttribute("data-id");if(!t)throw new Error("outline data-id null");return e.px=0,e.py=0,void I(t,e.id)}const l=a.parentNode;let r=e,s=e;if(h(l).selectAll(`g.${bt(e).join(".")}`).filter((t=>t!==e)).each((t=>{t.y>e.y&&t.y<e.y+e.py&&t.y>s.y&&(s=t),t.y<e.y&&t.y>e.y+e.py&&t.y<r.y&&(r=t)})),r!==e)return e.px=0,e.py=0,void K(e.id,r.id);if(s!==e)return e.px=0,e.py=0,void K(e.id,s.id,1);D(a,e,[0,0],500)})),_=new ResizeObserver((t=>{if(!x.value)return;const e=t[0],n=e.target,a=2*(parseInt(getComputedStyle(n).paddingLeft||"0",10)+parseInt(getComputedStyle(n.parentNode).borderTopWidth||"0",10));x.value.attr("width",e.contentRect.width+a).attr("height",e.contentRect.height+a)}));let $,B=!1;const L=i(!0);u((()=>{e.value&&n.value&&o.value&&l.value&&r.value&&(s.value=h(e.value),f.value=h(n.value),y.value=h(o.value).attr("width",0).attr("height",0),x.value=h(l.value),_.observe(r.value),$=new lt(JSON.parse(JSON.stringify(t.modelValue[0])),t.xGap,t.yGap,M),k(),x.value.raise(),r.value.addEventListener("blur",A),r.value.addEventListener("mousedown",(t=>t.stopPropagation())),J(),T(),s.value.on("mousedown",(()=>{const t=document.getElementsByClassName(S.selected)[0];null==t||t.classList.remove(S.selected)})),O(t.zoom))})),p((()=>t.branch),(t=>N.emit("branch",t))),p((()=>t.sharpCorner),(t=>{N.emit("sharp-corner",t),k()})),p((()=>[t.branch,t.addNodeBtn]),(()=>k())),p((()=>[t.xGap,t.yGap]),(t=>{N.emit("gap",t),$.setBoundingBox(t[0],t[1]),k()})),p((()=>[t.drag,t.edit]),(t=>{P(t[0]||t[1]),H(t[0]),G(t[1])})),p((()=>t.zoom),(t=>O(t))),p(L,(t=>{var e;null==(e=f.value)||e.selectAll(`g.${S["add-btn"]}`).style("display",t?"":"none")}));const z=t=>{const e=Dt(t);return e.on("click",R),e},j=e=>{var n;const a=!(null==(n=e.data()[0])?void 0:n.depth),o=e.append("g");Lt(o),Mt(o.append("path"));const l=o.append("g").attr("class",S.content),r=l.append("rect"),s=l.append("g").attr("class",S.text),i=s.append("rect"),d=s.append("text").selectAll("tspan").data($t).enter().append("tspan");let c;return zt(d),t.addNodeBtn&&(c=z(l)),a?(kt(r,10),jt(i,10,6),c&&Et(c,10)):(kt(r,yt),jt(i,yt),c&&Et(c,yt)),C(o,a),o.each(((t,e)=>{t.children&&k(t.children,o.filter(((t,n)=>e===n)))})),l.raise(),o},E=e=>{var n;const a=!(null==(n=e.data()[0])?void 0:n.depth),o=st(500,v);Lt(e,o),Mt(e.select(":scope > path"),o);const l=e.select(`:scope > g.${S.content}`),r=l.select(":scope > rect"),s=l.select(`g.${S.text}`),i=s.select("rect");s.select("text").selectAll("tspan").data($t).join(Nt,St,(t=>t.remove()));let d=l.select(`g.${S["add-btn"]}`);return t.addNodeBtn?d.node()||(d=z(l)):d.remove(),a?(kt(r,10),jt(i,10,6),Et(d,10)):(kt(r,yt),jt(i,yt),Et(d,yt)),e.each(((t,n)=>{t.children&&k(t.children,e.filter(((t,e)=>n===e)))})),l.raise(),e},k=(t=[$.data],e=f.value)=>{e.selectAll(`g.${bt(t[0]).join(".")}`).data(t,(t=>t.gKey)).join(j,E)},M=t=>{if(!y.value)throw new Error("asstSvg undefined");const e=rt(t),n=y.value.append("text");n.selectAll("tspan").data(e).enter().append("tspan").text((t=>t)).attr("x",0);const a=n.node().getBBox();return n.remove(),{width:Math.max(a.width,22),height:Math.max(a.height,22)*e.length}},D=(t,e,n,a=0)=>{const o=st(a,v);e.px=n[0],e.py=n[1],h(t).transition(o).attr("transform",wt),h(`g[data-id='${_t(e)}'] > path`).transition(o).attr("d",(t=>Bt(t)))},C=(e,n)=>{if(t.drag||t.edit){const a=e.select(`:scope > g.${S.content} > g.${S.text}`);a.on("mousedown",U),t.drag&&!n&&w(a),t.edit&&a.on("click",V)}t.addNodeBtn&&e.select(`:scope > g.${S.content}`).on("mouseenter",Ct).on("mouseleave",Vt)};function V(t,e){var n,a;const o=null==(n=this.parentNode)?void 0:n.parentNode;if(B&&x.value&&r.value){o.classList.add(S.edited),B=!1,x.value.attr("x",e.x-2).attr("y",e.y-$.data.y-2).attr("data-id",e.id).attr("data-name",e.name).style("display","");const t=r.value;t.textContent=e.name,t.focus(),null==(a=getSelection())||a.selectAllChildren(t)}}const A=()=>{var t;if(null==(t=document.getElementsByClassName(S.edited)[0])||t.classList.remove(S.edited,S.selected),l.value&&r.value){l.value.style.display="none";const t=l.value.getAttribute("data-id"),e=l.value.getAttribute("data-name"),n=r.value.textContent;t&&n&&n!==e&&q(t,n)}},U=(t,e)=>{t.stopPropagation(),(t=>{const e=document.querySelector(`g[data-id='${_t(t)}']`),n=document.getElementsByClassName(S.selected)[0];if(!e)throw new Error(`g[data-id='${_t(t)}'] is null`);n?n!==e?(n.classList.remove(S.selected),e.classList.add(S.selected)):B=!0:e.classList.add(S.selected)})(e)},R=(t,e)=>{const n=F(e.id,"");if(!f.value||!n)return;const a=f.value.selectAll(`g[data-id='${_t(n)}'] g.${S.text}`).node();a&&(B=!0,V.call(a,t,n))},O=t=>{s.value&&(t?(b(s.value),s.value.on("dblclick.zoom",null)):s.value.on(".zoom",null))},G=t=>{if(!r.value||!f.value)return;const e=f.value.selectAll(`g.${S.text}`);t?e.on("click",V):e.on("click",null)},H=t=>{if(!f.value)return;const e=f.value.selectAll(`g.node:not(.${S.root}) > g > g.${S.text}`);t?w(e):e.on(".drag",null)},P=t=>{if(!f.value)return;const e=f.value.selectAll(`g.${S.text}`);t?e.on("mousedown",U):e.on("mousedown",null)},q=(t,e)=>{$.rename(t,e),k()},I=(t,e)=>{$.reparent(t,e),k()},K=(t,e,n=0)=>{$.move(t,e,n),k()},F=(t,e)=>{const n=$.add(t,e);return k(),n},J=()=>{if(!s.value)return;const t=$.data;b.translateTo(s.value,0+t.width/2,0+t.height/2)},T=()=>{if(!s.value||!n.value||!e.value)return;const t=n.value.getBBox(),a=e.value.getBoundingClientRect(),o=Math.min(a.width/t.width,a.height/t.height),l=a.width/2,r=a.height/2,i=t.width*o/2,d=t.height*o/2,c=g.translate(-t.x*o+l-i,-t.y*o+r-d).scale(o);b.transform(s.value,c)};return{svgEle:e,gEle:n,style:S,asstSvgEle:o,foreignEle:l,foreignDivEle:r,centerView:J,fitView:T,download:()=>{((t,e)=>{a(t).then((t=>{const n=t.toDataURL(),a=open();a&&(a.document.write(`<img src='${n}'>`),a.document.title=e,a.document.close())}))})(document.getElementById(S["svg-wrapper"]),$.data.name)}}}});const Ut={ref:"gEle"},Rt={ref:"foreignEle",style:{display:"none"}},Ot={ref:"foreignDivEle",contenteditable:""},Gt={ref:"asstSvgEle"};At.render=function(t,e,n,a,o,l){return b(),f("div",{class:t.style.container},[y("div",{id:t.style["svg-wrapper"]},[(b(),f("svg",{class:t.style.svg,ref:"svgEle"},[y("g",Ut,[(b(),f("foreignObject",Rt,[y("div",Ot,null,512)],512))],512)],2))],8,["id"]),(b(),f("svg",Gt,null,512)),y("div",{class:[t.style["button-list"],t.style["right-bottom"]]},[t.centerBtn?(b(),f("button",{key:0,onClick:e[1]||(e[1]=e=>t.centerView())},[y("i",{class:t.style.gps},null,2)])):x("",!0),t.fitBtn?(b(),f("button",{key:1,onClick:e[2]||(e[2]=e=>t.fitView())},[y("i",{class:t.style.fit},null,2)])):x("",!0),t.downloadBtn?(b(),f("button",{key:2,onClick:e[3]||(e[3]=e=>t.download())},[y("i",{class:t.style.download},null,2)])):x("",!0)],2)],2)};var Ht=s({name:"App",components:{Mindmap:At},setup(){const t=w({"center-btn":{value:!0},"fit-btn":{value:!0},"undo-btn":{value:!1,disabled:!0},"download-btn":{value:!0},"add-node-btn":{value:!0},keyboard:{value:!1,disabled:!0},zoom:{value:!0},drag:{value:!0},edit:{value:!0},contextMenu:{value:!1},"sharp-corner":{value:!1},vertical:{value:!1,disabled:!0}}),e=w({branch:{value:4,min:0,max:10},"x-gap":{value:50,min:0,max:100},"y-gap":{value:18,min:0,max:100}});return{learn:M,checkboxList:t,rangeList:e}}});const Pt={class:"container"},qt=y("div",{class:"left-top"},[y("a",{href:"https://github.com/hellowuxin/vue3-mindmap",target:"_blank"},"GitHub")],-1),It=y("div",{class:"right-top"},[y("span",null,"Props")],-1),Kt={class:"right-bottom"};Ht.render=function(t,e,n,a,o,l){const r=B("mindmap");return b(),f("div",Pt,[qt,It,y(r,{class:"left-bottom",modelValue:t.learn,"onUpdate:modelValue":e[1]||(e[1]=e=>t.learn=e),branch:t.rangeList.branch.value,"x-gap":t.rangeList["x-gap"].value,"y-gap":t.rangeList["y-gap"].value,zoom:t.checkboxList.zoom.value,"fit-btn":t.checkboxList["fit-btn"].value,"center-btn":t.checkboxList["center-btn"].value,"download-btn":t.checkboxList["download-btn"].value,drag:t.checkboxList.drag.value,edit:t.checkboxList.edit.value,"add-node-btn":t.checkboxList["add-node-btn"].value,"sharp-corner":t.checkboxList["sharp-corner"].value},null,8,["modelValue","branch","x-gap","y-gap","zoom","fit-btn","center-btn","download-btn","drag","edit","add-node-btn","sharp-corner"]),y("div",Kt,[(b(!0),f(_,null,$(t.checkboxList,((t,e)=>(b(),f("div",{key:e},[L(y("input",{type:"checkbox",name:e.toString(),"onUpdate:modelValue":e=>t.value=e,disabled:t.disabled},null,8,["name","onUpdate:modelValue","disabled"]),[[z,t.value]]),y("label",{for:e.toString()},j(e),9,["for"])])))),128)),(b(!0),f(_,null,$(t.rangeList,((t,e)=>(b(),f("div",{key:e},[L(y("input",{type:"range",name:e,"onUpdate:modelValue":e=>t.value=e,min:t.min,max:t.max},null,8,["name","onUpdate:modelValue","min","max"]),[[E,t.value,void 0,{number:!0}]]),y("label",{for:e},j(e)+"（"+j(t.value)+"）",9,["for"])])))),128))])])},k(Ht).mount("#app");
